<!DOCTYPE html>
<html> 
    <head>
        <meta charset="utf-8">   
        <meta name="viewport" content="width=device-width, user-scalable=no" />    
        <style>
            @font-face {
                	font-family: 'ringFont';
                	src: url('img/RingbearerMedium-w173.ttf');                	                
                }
           		@font-face {
                font-family: 'hobbitFont';
                	src: url('img/HobbitonHandscrawlRegular-eZA3.ttf');
                }
                @font-face {
                	font-family: 'bilboFont';
                	src: url('img/BilboHandRegular-L3MZ.ttf');
                }

           body{           		
                background: #2d2d2d;
                text-align: center;                                                              
			    background-image:url('img/fondo0.jpg'); 
			    -webkit-background-size: cover;
			    -moz-background-size: cover;
			    -o-background-size: cover;
			    background-size: cover; 
                background-repeat: no-repeat;                
  				background-attachment: fixed;
  				background-position: center; 
            }            

			
            a:link {              
              text-decoration: none;
            }
            a:visited
			{
    			text-decoration:none;
    		}

            .reproductor{
                width:75%;
                height:2.1em;
            }
            .lordof{                
                color:gold;
                text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
            }
            .titulos{
       			font-size: 1.4em; /* tamaño letra*/
       			font-family:'hobbitFont';             			
            	color: palegoldenrod;            	
            	text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
            }
            audio::-webkit-media-controls-panel, video::-webkit-media-controls-panel {
			    background-color: darkgray;
			    border:none;
			    border-radius: 0px;			    
			}			
			audio {			
				background-color: darkgray;
				border:none;
			    border-radius: 0px;
			}

        </style>
         
        <script>
          var nombres=Array();
          nombres[0]="Zampando tortas-2003.mp3"
          nombres[1]="Hobbits-último ensayo 2006.mp3"
          nombres[2]="Topes-única demo 2004.mp3"
          nombres[3]="El mundo es feliz-último ensayo 2006.mp3"
          nombres[4]="Gandaralf-2003.mp3"
          nombres[5]="Boromir-2003.mp3"
        
          
        </script>
        <link rel="shortcut icon" href="img/favicon.png">
    </head>    
    <body>
    	<div class="background-image">    	
    	</div>    	
    	<div  id="TierraMedia" style="position: absolute; left:0; right:0;">     	    	
    	<div class="lordof" style="position: relative; font-family:'ringFont'; font-size: 2.5em;">Los Topes</div>        
        <div class="lordof" style="position: relative; font-family:'bilboFont'; font-weight: bold; font-size: 2.1em; margin-bottom: 1.2em;">Grabaciones Antiguas</div>              	                
        </div>
        <script>
          //todo agregar los audio controls y links también en el loop, etc..
               
         function init(){         	

			var divGeneral = document.createElement("div");
            for (let i = 0; i < nombres.length; i++){
               //console.log(nombres[i]);
			
            let k=(i+1);
			//titulo o link
         	let titulo = document.createElement("span");
         	titulo.className ="titulos";
         	//titulo.style.textAlign="left";         	
         	titulo.id="link"+k
         	titulo.href=""
         	titulo.innerHTML = nombres[i].replace(/.mp3/,'');
         	
         	divGeneral.appendChild(titulo);   

			//div
         	let div = document.createElement("div");
         	div.style.marginBottom= "1.5em";         	
         	div.style.marginTop= "-1.5em";  //para corregir problema con "hobbitFont"
         	//audio
         	let audio = document.createElement("audio");         	
         	audio.id       = 'au'+k;
			audio.controls = 'controls';
			audio.className ="reproductor";
			audio.autobuffer="autobuffer";
			audio.src      = 'mp3/'+nombres[i];
			audio.type     = 'audio/mpeg';


			div.appendChild(audio);			
			divGeneral.appendChild(div);   			
            
              if(i<nombres.length-1){
                 audio.onended=function() {                   	
                    document.getElementById('au'+(k+1)).play();                                	
                };    
               }
           }
           document.getElementById("TierraMedia").appendChild(divGeneral);
         }
    
        init();
        var fondo=0;
        setInterval( function(){
        			    fondo =(fondo+1)%3;
        				switch(fondo){
        					case 0:
        					document.body.style.backgroundImage = "url('img/fondo0.jpg')"; 
        					break;
        					case 1:
 							document.body.style.backgroundImage = "url('img/fondo1.jpg')"; 
 							break;
 							case 2: 							
 							document.body.style.backgroundImage = "url('img/fondo2.jpg')"; 
 							break;
 						}
		       }, 60*1000);
        	

            //TODO        
	    /*document.getElementById('au1').onended=function() {                                      
	            document.getElementById('au2').play();                 
	    };    
	    document.getElementById('au2').onended=function() {                                      
	            document.getElementById('au3').play();                 
	    };    
	    document.getElementById('au3').onended=function() {                                      
	            document.getElementById('au4').play();                 
	    };    
	    document.getElementById('au4').onended=function() {                                      
	            document.getElementById('au5').play();                 
	    };    
	    document.getElementById('au5').onended=function() {                                      
	            document.getElementById('au6').play();                 
	    };	    */    
        </script>           
    </body>
</html>

